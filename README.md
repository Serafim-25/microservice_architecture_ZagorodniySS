# Микросервисное приложение для прогнозирования диабета

Этот проект представляет собой микросервисную систему, предназначенную для прогнозирования диабета на основе различных медицинских показателей. Система включает несколько сервисов, которые взаимодействуют через RabbitMQ, обеспечивая автоматизированный процесс прогнозирования и оценки точности модели.

## Описание сервисов

1. **Features Service**: Этот сервис генерирует векторы признаков на основе медицинских данных о диабете и передает их в очередь RabbitMQ.
2. **Model Service**: Сервис, который принимает векторы признаков, использует модель для выполнения предсказаний и отправляет результаты обратно в очередь.
3. **Metric Service**: Рассчитывает абсолютные ошибки между предсказаниями и фактическими значениями для оценки точности модели.
4. **Plot Service**: Создает и обновляет визуализацию распределения ошибок предсказаний.

## Структура проекта

```
microservice_architecture_ZagorodniySS/
├── docker-compose.yml        # Конфигурация Docker Compose
├── features/                 # Сервис генерации признаков
│   ├── Dockerfile
│   ├── requirements.txt
│   └── src/
│       └── features.py
├── model/                    # Сервис с моделью
│   ├── Dockerfile
│   ├── requirements.txt 
│   └── src/
│       ├── myfile.pkl        # Сериализованная модель
│       └── model.py
├── metric/                   # Сервис расчета метрик
│   ├── Dockerfile
│   ├── requirements.txt
│   └── src/
│       └── metric.py
├── plot/                     # Сервис визуализации
│   ├── Dockerfile
│   ├── requirements.txt
│   └── plot.py
└── logs/                       # Директория для логов
    ├── error_distribution.png  # График распределения ошибок (пример)
    └── metric_log.csv          # CSV-файл с абсолютной ошибкой предсказаний (пример)
```    

## Мониторинг работы

- Интерфейс RabbitMQ доступен по адресу: http://localhost:15672 (guest/guest)
- Все метрики сохраняются в файл: logs/metric_log.csv
- График распределения ошибок доступен в файле: logs/error_distribution.png

## Инструкция по запуску

1. Убедитесь, что у вас установлен Docker и Docker Compose

2. Клонируйте репозиторий:
```bash
git clone git@github.com:Serafim-25/microservice_architecture_ZagorodniySS
cd microservice_architecture_ZagorodniySS
```

3. Запустите приложение с помощью команды:
```bash
docker-compose up --build
```

4. Чтобы остановить приложение, используйте:
```bash
docker-compose down
```